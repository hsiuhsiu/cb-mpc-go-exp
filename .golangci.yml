run:
  timeout: 5m
  tests: true
  modules-download-mode: readonly

linters:
  disable-all: true
  enable:
    - gofumpt
    - gci
    - revive
    - govet
    - staticcheck
    - errcheck
    - ineffassign
    - misspell
    - gocritic

linters-settings:
  gofumpt:
    module-path: github.com/coinbase/cb-mpc-go
  gci:
    sections:
      - Standard
      - Default
      - Prefix(github.com/coinbase/cb-mpc-go)
    skip-generated: true
  revive:
    severity: warning
  misspell:
    locale: US

issues:
  exclude-use-default: false
  max-issues-per-linter: 0
  max-same-issues: 0
  exclude-rules:
    # Exclude dupSubExpr warnings for CGO C function calls in backend bindings.
    # These are false positives - the linter doesn't understand C function signatures.
    - linters:
        - gocritic
      text: "dupSubExpr.*suspicious identical LHS and RHS"
      path: "pkg/cbmpc/internal/backend/bindings_.*\\.go"
